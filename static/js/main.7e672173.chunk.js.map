{"version":3,"sources":["components/Pairer.js","components/Person.js","utils/utils.js","App.js","reportWebVitals.js","index.js"],"names":["Pairer","people","selectMate","mate","femaleName","setPeople","value","onChange","event","target","map","person","sex","name","Person","mother","father","showParents","style","color","getAncestorsNames","ancestorNames","findPerson","concat","getMaxAncestorGenerations","mothersAncestors","fathersAncestors","Math","max","find","peopleAreRelated","name1","name2","personAncestors","mateAncestors","filter","includes","length","scenarios","1","males","females","depth","depthLabel","2","3","unusedFemales","unusedMales","getInitialPeople","scenario","a","extras","numberOfFemales","numberOfMales","Promise","all","fetch","then","response","json","results","first","allPeople","splice","mateName","undefined","makeNewPeople","newPeople","parents","index","gender","setScenario","every","window","confirm","personMaxAncestors","matesMaxAncestors","console","log","push","newBorns","App","useState","setShowParents","useEffect","type","onClick","className","key","reproduce","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7e672173.chunk.js","sourcesContent":["import React from 'react';\n\nconst Pairer = ({ people, selectMate, mate, femaleName, setPeople }) => (\n  <select value={mate} onChange={(event) => selectMate(femaleName, event.target.value, people, setPeople)}>\n    <option value='none'>- Choose Mate -</option>\n    {people.map((person) => (\n      person.sex === 'male' && <option key={person.name} value={person.name}>{person.name}</option>\n    ))}\n  </select>\n);\n\nexport default Pairer\n","import React from 'react';\nimport Pairer from \"./Pairer\";\n\nconst Person = ({ name, sex, mate, mother, father, setPeople, people, selectMate, showParents }) => (\n  <li>\n    <span style={{color: sex === 'male' ? 'blue' : 'pink'}}>{name}</span>\n    {sex === 'female' && <>{' '} - <Pairer people={people} femaleName={name} mate={mate} selectMate={selectMate} setPeople={setPeople}/></>}\n    {showParents && mother && father && <ul><li>{mother}</li><li>{father}</li></ul>}\n  </li>\n);\n\nexport default Person\n","function getAncestorsNames(name, people) {\n  let ancestorNames = [name];\n\n  const person = findPerson(name, people);\n\n  if (person.mother) {\n    ancestorNames = ancestorNames.concat(getAncestorsNames(person.mother, people));\n  }\n\n  if (person.father) {\n    ancestorNames = ancestorNames.concat(getAncestorsNames(person.father, people));\n  }\n\n  return ancestorNames;\n}\n\nexport function getMaxAncestorGenerations(name, people) {\n  const person = findPerson(name, people);\n  const mothersAncestors = person.mother ? getMaxAncestorGenerations(person.mother, people) + 1 : 0;\n  const fathersAncestors = person.father ? getMaxAncestorGenerations(person.father, people) + 1 : 0;\n\n  return Math.max(mothersAncestors, fathersAncestors);\n}\n\nexport function findPerson(name, people) {\n  return people.find((person) => {\n    return person.name === name;\n  });\n}\n\nexport function peopleAreRelated(name1, name2, people) {\n  const personAncestors = getAncestorsNames(name1, people);\n  const mateAncestors = getAncestorsNames(name2, people);\n  const commonAncestors = personAncestors.filter(value => mateAncestors.includes(value));\n  return commonAncestors.length > 0;\n}\n","import {useEffect, useState} from 'react';\nimport Person from \"./components/Person\";\nimport {getMaxAncestorGenerations, peopleAreRelated} from \"./utils/utils\";\n\nimport './App.css';\n\nconst scenarios = {\n  1: {males: 2, females: 1, depth: 2, depthLabel: 'grandchild'},\n  2: {males: 3, females: 1, depth: 3, depthLabel: 'great-grandchild'},\n  3: {males: 2, females: 2, depth: 3, depthLabel: 'great-grandchild'}\n};\n\nlet unusedFemales =[];\nlet unusedMales =[];\n\nasync function getInitialPeople(setPeople, scenario) {\n  const extras = (2 * scenarios[scenario].females + scenarios[scenario].males)\n  const numberOfFemales = extras + scenarios[scenario].females;\n  const numberOfMales = extras + scenarios[scenario].males;\n  const results = await Promise.all([\n    fetch(`https://randomuser.me/api/?gender=female&results=${numberOfFemales}&inc=name&nat=us,dk,fr,gb`).then((response) => response.json()),\n    fetch(`https://randomuser.me/api/?gender=male&results=${numberOfMales}&inc=name&nat=us,dk,fr,gb`).then((response) => response.json())\n  ]);\n\n  unusedFemales = results[0].results.map((person) => {\n    return {name: person.name.first, sex: 'female'}\n  });\n  unusedMales = results[1].results.map((person) => {\n    return {name: person.name.first, sex: 'male'}\n  });\n\n  const allPeople = unusedFemales.splice(0, scenarios[scenario].females).concat(unusedMales.splice(0, scenarios[scenario].males));\n  setPeople(allPeople);\n}\n\nfunction selectMate(name, mateName, people, setPeople) {\n  const tempPeople = people.map(person => {\n    if (name === person.name) {\n      if (mateName === 'none') {\n        return {...person, mate: undefined};\n      }\n      return {...person, mate: mateName};\n    }\n    return person;\n  })\n  setPeople(tempPeople);\n}\n\nasync function makeNewPeople(newPeople) {\n  const results = await fetch(`https://randomuser.me/api/?results=${newPeople.length}&inc=name,gender&nat=us,dk,fr,gb`).then((response) => response.json());\n  return newPeople.map((parents, index) => {\n    const person = results.results[index];\n    return {\n      name: person.name.first,\n      sex: person.gender,\n      mother: parents.mother,\n      father: parents.father,\n    }\n  });\n}\n\nasync function reproduce(people, setPeople, scenario, setScenario) {\n  let newPeople = [];\n  await people.every(person => {\n    if (person.mate) {\n      if (peopleAreRelated(person.name, person.mate, people)) {\n        const confirm = window.confirm(`${person.name} and ${person.mate} are related. Inbreeding is not allowed!`);\n        if (confirm) {\n          getInitialPeople(setPeople, scenario);\n        } else {\n          getInitialPeople(setPeople, scenario);\n        }\n        newPeople = [];\n        return false;\n      }\n      const personMaxAncestors = getMaxAncestorGenerations(person.name, people);\n      const matesMaxAncestors = getMaxAncestorGenerations(person.mate, people);\n      console.log(personMaxAncestors, matesMaxAncestors, scenarios[scenario].depth);\n      if (Math.max(personMaxAncestors, matesMaxAncestors) + 1 >= scenarios[scenario].depth) {\n        if (scenario >= scenarios.length) {\n          const confirm = window.confirm('Well done! You won the game!');\n          if (confirm) {\n            setScenario(1);\n          } else {\n            setScenario(1);\n          }\n        } else {\n          const confirm = window.confirm('Well done! On to the next level for you!');\n          if (confirm) {\n            setScenario(scenario + 1);\n          } else {\n            setScenario(scenario + 1);\n          }\n        }\n        return false;\n      }\n      newPeople.push({mother: person.name, father: person.mate});\n    }\n    return true;\n  });\n  if (newPeople.length > 0) {\n    const newBorns = await makeNewPeople(newPeople);\n    setPeople(people.concat(newBorns));\n  }\n\n}\n\nfunction App() {\n  const [people, setPeople] = useState([]);\n  const [scenario, setScenario] = useState(1);\n  const [showParents, setShowParents] = useState(false);\n\n  useEffect(() => {\n    getInitialPeople(setPeople, scenario);\n  }, [scenario]);\n\n  return (\n    <div>\n      The Event has left only {scenarios[scenario].males + scenarios[scenario].females} people alive. Give the woman\n      a {scenarios[scenario].depthLabel} without inbreeding.\n      <div>\n        <label>Show Parents: <input type=\"checkbox\" value={showParents} onClick={() => setShowParents(!showParents)}/></label>\n      </div>\n      <ul className='people'>\n        {people.map((person) => (\n          <Person {...person} key={person.name} setPeople={setPeople} people={people} showParents={showParents}\n                  selectMate={selectMate}/>\n        ))}\n      </ul>\n      <button onClick={() => reproduce(people, setPeople, scenario, setScenario)}>\n        Reproduce\n      </button>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}